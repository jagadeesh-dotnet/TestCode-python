<div class="modal-header">
    <h4 class="modal-title">{{ schedule ? 'Edit' : 'Add' }} Schedule</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss('Cross click')"></button>
</div>
<div class="modal-body">
    <form [formGroup]="schedulerForm">
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" id="name" formControlName="name">
        </div>

        <div class="mb-3">
            <label for="stream_url" class="form-label">Stream URL</label>
            <input type="text" class="form-control" id="stream_url" formControlName="stream_url">
        </div>

        <div class="mb-3">
            <label class="form-label">Type</label>
            <div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" formControlName="schedule_type" id="typeOneTime"
                        value="one_time">
                    <label class="form-check-label" for="typeOneTime">One Time</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" formControlName="schedule_type" id="typeRecurring"
                        value="recurring">
                    <label class="form-check-label" for="typeRecurring">Recurring</label>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">Start Time</label>
                <input type="time" step="1" class="form-control" formControlName="start_time">
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label">End Time</label>
                <input type="time" step="1" class="form-control" formControlName="end_time">
            </div>
        </div>

        <div class="mb-3" *ngIf="schedulerForm.get('schedule_type')?.value === 'one_time'">
            <label class="form-label">Date</label>
            <input type="date" class="form-control" formControlName="specific_date">
        </div>

        <div class="mb-3" *ngIf="schedulerForm.get('schedule_type')?.value === 'recurring'">
            <label class="form-label">Days of Week</label>
            <div *ngFor="let day of weekDays" class="form-check">
                <input class="form-check-input" type="checkbox" [value]="day.value" [checked]="isDayChecked(day.value)"
                    (change)="onDayChange($event)">
                <label class="form-check-label">
                    {{ day.label }}
                </label>
            </div>
        </div>

    </form>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-outline-secondary" (click)="activeModal.dismiss('cancel')">Cancel</button>
    <button type="button" class="btn btn-primary" (click)="save()" [disabled]="schedulerForm.invalid">Save</button>
</div>